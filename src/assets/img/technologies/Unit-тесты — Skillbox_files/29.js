(window.webpackJsonp=window.webpackJsonp||[]).push([[29],{"27A0":function(t,e,n){"use strict";n.d(e,"a",(function(){return p}));var i=n("2kYt"),s=n("nIj0"),a=n("/Ffh"),o=n("MfMy"),r=n("3Xo3"),c=n("DlnH"),u=n("EM62"),l=n("MR/C");let p=(()=>{class t{constructor(t){t.registerIcons([o.svgIconSmileAngry,o.svgIconSmileMeh,o.svgIconSmileNormal,o.svgIconSmileVeryGood,o.svgIconSmilePerfect])}}return t.\u0275mod=u.yc({type:t}),t.\u0275inj=u.xc({factory:function(e){return new(e||t)(u.Oc(l.a))},imports:[[i.c,r.a,c.a,s.E,a.a]]}),t})()},"3Xo3":function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var i=n("2kYt"),s=n("EM62");let a=(()=>{class t{}return t.\u0275mod=s.yc({type:t}),t.\u0275inj=s.xc({factory:function(e){return new(e||t)},imports:[[i.c]]}),t})()},"4cNQ":function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var i=n("EM62"),s=n("69BS"),a=n("d3ru"),o=n("2kYt"),r=n("cfBW");function c(t,e){if(1&t){const t=i.Hc();i.Gc(0,"button",1),i.Sc("click",(function(){i.ud(t);const n=e.$implicit;return i.Wc().optionClick.emit(n.id)})),i.Xc(1,"cache"),i.Gd(2),i.Fc()}if(2&t){const t=e.$implicit,n=i.Wc();i.ed("ngClass",i.ad(1,2,t,n.getBtnClass,n)),i.nc(2),i.Id(" ",t.value," ")}}let u=(()=>{class t{constructor(){this.options=[],this.optionClick=new i.t}getBtnClass(t){var e;return(null===(e=this.btnClassFactory)||void 0===e?void 0:e.call(this,t))||"ui-sb-button--view-2"}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.uc({type:t,selectors:[["app-evaluation-layout-options"]],inputs:{title:"title",options:"options",btnClassFactory:"btnClassFactory"},outputs:{optionClick:"optionClick"},decls:5,vars:2,consts:[["class","ui-sb-button--default ui-sb-button--small evaluation-layout__button","data-e2e","survey-option__element",3,"ngClass","click",4,"ngFor","ngForOf"],["data-e2e","survey-option__element",1,"ui-sb-button--default","ui-sb-button--small","evaluation-layout__button",3,"ngClass","click"]],template:function(t,e){1&t&&(i.Gc(0,"app-evaluation-layout"),i.Gc(1,"app-evaluation-layout-title"),i.Gd(2),i.Fc(),i.Gc(3,"app-evaluation-layout-body"),i.Ed(4,c,3,6,"button",0),i.Fc(),i.Fc()),2&t&&(i.nc(2),i.Hd(e.title),i.nc(2),i.ed("ngForOf",e.options))},directives:[s.a,a.c,a.a,o.t,o.r],pipes:[r.a],styles:["[_nghost-%COMP%]{display:block;width:100%}[_nghost-%COMP%]   .evaluation-layout__button[_ngcontent-%COMP%]{margin-right:8px}@media (max-width:767.9px){[_nghost-%COMP%]   .evaluation-layout__button[_ngcontent-%COMP%]{flex-grow:1;justify-content:center;width:50%;padding:0}}[_nghost-%COMP%]   .evaluation-layout__button[_ngcontent-%COMP%]:last-child{margin:0}@media (max-width:767.9px){app-evaluation-layout-body[_ngcontent-%COMP%]{display:flex}}"],changeDetection:0}),t})()},"69BS":function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var i=n("EM62");const s=[[["app-evaluation-layout-title"],["","app-evaluation-layout-title",""],["","appEvaluationLayoutTitle",""]],[["app-evaluation-layout-body"],["","app-evaluation-layout-body",""],["","appEvaluationLayoutBody",""]],[["app-evaluation-layout-image"],["","app-evaluation-layout-image",""],["","appEvaluationLayoutImage",""]],"*"],a=["app-evaluation-layout-title, [app-evaluation-layout-title], [appEvaluationLayoutTitle]","app-evaluation-layout-body, [app-evaluation-layout-body], [appEvaluationLayoutBody]","app-evaluation-layout-image, [app-evaluation-layout-image], [appEvaluationLayoutImage]","*"];let o=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.uc({type:t,selectors:[["app-evaluation-layout"]],ngContentSelectors:a,decls:8,vars:0,consts:[[1,"evaluation-layout"],[1,"evaluation-layout__title"],[1,"evaluation-layout__body"],[1,"evaluation-layout__image"]],template:function(t,e){1&t&&(i.dd(s),i.Gc(0,"div",0),i.Gc(1,"div",1),i.cd(2),i.Fc(),i.Gc(3,"div",2),i.cd(4,1),i.Fc(),i.Gc(5,"div",3),i.cd(6,2),i.Fc(),i.cd(7,3),i.Fc())},styles:["[_nghost-%COMP%]{display:block;width:100%}[_nghost-%COMP%]   .evaluation-layout[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;min-height:88px;padding:0 32px;border:1px solid var(--ui-sb-color-stroke-main);border-radius:10px;background-color:var(--ui-sb-color-bg-secondary)}@media (max-width:767.9px){[_nghost-%COMP%]   .evaluation-layout[_ngcontent-%COMP%]{flex-direction:column;height:auto;min-height:128px;padding:20px 16px}}[_nghost-%COMP%]   .evaluation-layout[_ngcontent-%COMP%]:focus{outline:none}[_nghost-%COMP%]   .evaluation-layout__body[_ngcontent-%COMP%]:empty, [_nghost-%COMP%]   .evaluation-layout__image[_ngcontent-%COMP%]:empty, [_nghost-%COMP%]   .evaluation-layout__title[_ngcontent-%COMP%]:empty{display:none}@media (max-width:767.9px){[_nghost-%COMP%]   .evaluation-layout__body[_ngcontent-%COMP%]{width:100%}}[_nghost-%COMP%]   .evaluation-layout__title[_ngcontent-%COMP%]:not(:empty){font-size:20px;line-height:26px;font-weight:500;margin:0}@media (max-width:767.9px){[_nghost-%COMP%]   .evaluation-layout__title[_ngcontent-%COMP%]:not(:empty){font-size:16px;line-height:20px;margin-bottom:28px}}[_nghost-%COMP%]   .evaluation-layout__image[_ngcontent-%COMP%]:not(:empty)     svg-icon, [_nghost-%COMP%]   .evaluation-layout__image[_ngcontent-%COMP%]:not(:empty)   img[_ngcontent-%COMP%]{width:64px;height:64px}@media (max-width:767.9px){[_nghost-%COMP%]   .evaluation-layout__image[_ngcontent-%COMP%]:not(:empty)     svg-icon, [_nghost-%COMP%]   .evaluation-layout__image[_ngcontent-%COMP%]:not(:empty)   img[_ngcontent-%COMP%]{width:80px;height:80px}}"],changeDetection:0}),t})()},"8WIj":function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var i=n("QffU"),s=n("wHcO");class a extends s.a{constructor(t){super(t)}setFilter(t){this.filter=t,this.search$.next(this.getCurrentSearch())}getData(t){return this.getFilteredData(t,this.filter)}getCurrentSearch(){return Object(i.a)(this.search$)}}},AuWH:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var i=n("2kYt"),s=n("EM62");let a=(()=>{class t{}return t.\u0275mod=s.yc({type:t}),t.\u0275inj=s.xc({factory:function(e){return new(e||t)},imports:[[i.c]]}),t})()},CKr7:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var i=n("EM62");let s=(()=>{class t{constructor(t){this.templateRef=t}}return t.\u0275fac=function(e){return new(e||t)(i.Ac(i.X))},t.\u0275dir=i.vc({type:t,selectors:[["","appMarkInputCustomContent",""]]}),t})()},HF2I:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var i=n("2kYt"),s=n("3Xo3"),a=n("5ZF5"),o=n("EM62");let r=(()=>{class t{}return t.\u0275mod=o.yc({type:t}),t.\u0275inj=o.xc({factory:function(e){return new(e||t)},imports:[[i.c,s.a,a.a]]}),t})()},HNR3:function(t,e,n){"use strict";n.d(e,"b",(function(){return r})),n.d(e,"a",(function(){return c}));var i=n("ruzS"),s=n("ZTXN"),a=n("5uDM"),o=n("8j5Y");function r(t){return t.map((t=>{var e,n;return{answer_id:(n=t,void 0!==n.answerIds?null===(e=t.answerIds)||void 0===e?void 0:e[0]:t.answerId),value:t.questionType===i.Ub.TypeEnum.INPUT?t.value:void 0,comment:t.comment}}))}class c{init(t){return this.entityToken=t,this.submitQueue$=new s.a,this.lastResponse=void 0,this.listenSubmitQueue(this.submitQueue$)}submitAnswers(t){this.submitQueue$.next(t)}listenSubmitQueue(t){return t.pipe(Object(a.a)((t=>this.lastResponse?this.buildPatchRequest(t):this.buildCreateRequest(t))),Object(o.a)((t=>{this.lastResponse=t})))}}},TA3M:function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var i=n("D57K"),s=n("EM62"),a=n("xzqx"),o=n("C05f"),r=n("0Woy");let c=(()=>{let t=class{constructor(t){this.elementRef=t,this.appearInViewport=new s.t,this.disappearFromViewport=new s.t,this.hasIntersection$=new o.a(null),this.checkForIntersection=t=>{this.hasIntersection$.next(!!t.isIntersecting)}}ngOnInit(){this.subscribeToIntersections()}ngAfterViewInit(){this.registerIntersectionObserver(),this.elementRef.nativeElement&&this.intersectionObserver.observe(this.elementRef.nativeElement)}ngOnDestroy(){this.disconnect()}registerIntersectionObserver(){this.intersectionObserver||(this.intersectionObserver=new IntersectionObserver((t=>{this.checkForIntersection(t[t.length-1])}),{}))}subscribeToIntersections(){this.hasIntersection$.pipe(Object(r.a)(),Object(a.b)(this)).subscribe((([t,e])=>{e&&this.appearInViewport.emit(),t&&!e&&this.disappearFromViewport.emit()}))}disconnect(){this.intersectionObserver&&(this.elementRef.nativeElement&&this.intersectionObserver.unobserve(this.elementRef.nativeElement),this.intersectionObserver.disconnect())}};return t.\u0275fac=function(e){return new(e||t)(s.Ac(s.q))},t.\u0275dir=s.vc({type:t,selectors:[["","appElementInViewport",""]],outputs:{appearInViewport:"appearInViewport",disappearFromViewport:"disappearFromViewport"}}),t=Object(i.b)([Object(a.a)()],t),t})()},TVns:function(t,e,n){"use strict";n.d(e,"a",(function(){return v}));var i=n("EM62"),s=n("nIj0"),a=n("MfMy"),o=n("CKr7"),r=n("XJ1h"),c=n("2kYt"),u=n("jR34"),l=n("DtU0");function p(t,e){1&t&&i.Cc(0)}function h(t,e){if(1&t&&(i.Gc(0,"button",5),i.Gc(1,"span",6),i.Bc(2,"svg-icon",7),i.Fc(),i.Fc()),2&t){const t=e.$implicit,n=i.Wc(),s=n.$implicit,a=n.index,o=i.Wc();i.sc("mark-input__button--hover",o.isHovered(t)),i.nc(2),i.sc("mark-input__icon--active",o.isActive(s))("mark-input__icon--hover",o.isHovered(s)),i.ed("name",o.getIconName(a))}}const d=function(t,e,n,i){return{id:t,i:e,isActive:n,isHovered:i}},g=function(t){return{$implicit:t}};function m(t,e){if(1&t){const t=i.Hc();i.Gc(0,"div",2),i.Sc("mouseenter",(function(){i.ud(t);const n=e.$implicit;return i.Wc().onHover(n)}))("mouseleave",(function(){return i.ud(t),i.Wc().onHover(-1)}))("click",(function(){i.ud(t);const n=e.$implicit;return i.Wc().updateValue(n)})),i.Ed(1,p,1,0,"ng-container",3),i.Ed(2,h,3,7,"ng-template",null,4,i.Fd),i.Fc()}if(2&t){const t=e.$implicit,n=e.index,s=i.sd(3),a=i.Wc();i.nc(1),i.ed("ngTemplateOutlet",a.templateDirective?a.templateDirective.templateRef:s)("ngTemplateOutletContext",i.jd(7,g,i.md(2,d,t,n,a.isActive(t),a.isHovered(t))))}}let v=(()=>{class t{constructor(){this.min=1,this.max=5,this.iconName=a.svgIconStarFilledV2.name,this.selectionChange=new i.t,this.numbers=[],this.onChange=t=>{},this.onTouched=()=>{}}ngOnChanges({min:t,max:e}){Object(r.a)(t&&t.currentValue)&&Object(r.a)(e&&e.currentValue)||this.fillValuesCollection(t&&t.currentValue,e&&e.currentValue)}isActive(t){return this.hoveredAssessment>=0?t<=this.hoveredAssessment:t<=this.value}isHovered(t){return t===this.hoveredAssessment}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}writeValue(t){this.value=null===t?-1:Math.min(t,this.max)}updateValue(t){this.value=t,this.onChange(t),this.onTouched(),this.selectionChange.emit(t)}onHover(t){this.hoveredAssessment=t}getIconName(t){return this.iconNames&&this.iconNames.length?this.iconNames[t]:this.iconName?this.iconName:a.svgIconStarFilledV2.name}ngOnInit(){this.fillValuesCollection(this.min,this.max)}fillValuesCollection(t,e){const n=Object(r.a)(t)?this.min:t,i=Object(r.a)(e)?this.max:e;if(i<=n)throw new Error(" min value must be less than max value");this.numbers=Array.from(Array(i+1),((t,e)=>e)).slice(n)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.uc({type:t,selectors:[["app-mark-input"]],contentQueries:function(t,e,n){var s;1&t&&i.zd(n,o.a,!0),2&t&&i.rd(s=i.Tc())&&(e.templateDirective=s.first)},inputs:{min:"min",max:"max",iconName:"iconName",iconNames:"iconNames"},outputs:{selectionChange:"selectionChange"},features:[i.mc([{provide:s.t,useExisting:t,multi:!0}]),i.lc],decls:3,vars:4,consts:[[1,"mark-input"],["class","mark-input__container","data-e2e","mark-input__element",3,"mouseenter","mouseleave","click",4,"ngFor","ngForOf","ngForTrackBy"],["data-e2e","mark-input__element",1,"mark-input__container",3,"mouseenter","mouseleave","click"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["defaultOption",""],["type","button",1,"mark-input__button"],[1,"mark-input__icon-wrapper"],[1,"mark-input__icon",3,"name"]],template:function(t,e){1&t&&(i.Gc(0,"div",0),i.Ed(1,m,4,9,"div",1),i.Xc(2,"trackBy"),i.Fc()),2&t&&(i.nc(1),i.ed("ngForOf",e.numbers)("ngForTrackBy",i.Yc(2,2,"$index")))},directives:[c.t,c.B,u.a],pipes:[l.a],styles:["[_nghost-%COMP%]{display:flex;align-items:center}.mark-input[_ngcontent-%COMP%]{display:flex;justify-content:center;flex-wrap:nowrap;width:100%;cursor:pointer}.mark-input__container[_ngcontent-%COMP%]{display:flex;align-items:center;flex-direction:column;flex-grow:1;max-width:64px}.mark-input__button[_ngcontent-%COMP%]{width:40px;height:40px;flex-shrink:0;min-width:0;padding:0;border:none;border-radius:50%;cursor:pointer}.mark-input__button--hover[_ngcontent-%COMP%]{background-color:var(--ui-sb-color-text-disable);transition:background-color .1s ease-out}.mark-input__icon[_ngcontent-%COMP%]{width:16px;height:16px;color:var(--skb-color-muted);font-size:18px;transition:all .1s ease-out}@media (max-width:767.9px){.mark-input__icon[_ngcontent-%COMP%]{width:24px;height:24px}}.mark-input__icon--active[_ngcontent-%COMP%], .mark-input__icon--hover[_ngcontent-%COMP%]{color:var(--skb-color-primary)}.mark-input__icon--hover[_ngcontent-%COMP%]{width:24px;height:24px;font-size:24px}.mark-input__icon-wrapper[_ngcontent-%COMP%]{display:inline-flex;align-items:center;justify-content:center}"],changeDetection:0}),t})()},Umpn:function(t,e,n){"use strict";n.d(e,"a",(function(){return g}));var i=n("ruzS"),s=n("QffU"),a=n("EM62"),o=n("qvgx"),r=n("oY2D"),c=n("69BS"),u=n("d3ru"),l=n("2kYt"),p=n("jR34"),h=n("Jzyt");function d(t,e){if(1&t){const t=a.Hc();a.Gc(0,"span",3),a.Gd(1),a.Xc(2,"transloco"),a.Gc(3,"button",4),a.Sc("click",(function(){return a.ud(t),a.Wc().openSupportChat()})),a.Gd(4),a.Xc(5,"transloco"),a.Fc(),a.Gd(6,"."),a.Fc()}2&t&&(a.nc(1),a.Id("",a.Yc(2,2,"surveys.contactSupport.haveQuestions")," "),a.nc(3),a.Id(" ",a.Yc(5,4,"surveys.contactSupport.support"),""))}let g=(()=>{class t{constructor(t,e){this.useDeskTriggerService=t,this.permissionsFacade=e,this.showTechSupportSuggestion=!0}openSupportChat(){Object(s.a)(this.permissionsFacade.hasPermission(i.yb.EnumValuesEnum.CAN_ACCESS_USE_DESK_SUPPORT_CHANNEL_CUSTOM))&&this.useDeskTriggerService.open()}}return t.\u0275fac=function(e){return new(e||t)(a.Ac(o.a),a.Ac(r.a))},t.\u0275cmp=a.uc({type:t,selectors:[["app-evaluation-layout-thanks"]],inputs:{showTechSupportSuggestion:"showTechSupportSuggestion"},decls:7,vars:4,consts:[["data-i18n","surveys.thanks"],["class","ui-sb-f--4 ui-sb-weight--regular","data-i18n","surveys.contactSupport.haveQuestions",4,"ngIf"],["name","hearth","appEvaluationLayoutImage",""],["data-i18n","surveys.contactSupport.haveQuestions",1,"ui-sb-f--4","ui-sb-weight--regular"],["data-i18n","surveys.contactSupport.support",1,"ui-sb-f--4",3,"click"]],template:function(t,e){1&t&&(a.Gc(0,"app-evaluation-layout"),a.Gc(1,"app-evaluation-layout-title"),a.Gc(2,"div",0),a.Gd(3),a.Xc(4,"transloco"),a.Fc(),a.Ed(5,d,7,6,"span",1),a.Fc(),a.Bc(6,"svg-icon",2),a.Fc()),2&t&&(a.nc(3),a.Hd(a.Yc(4,2,"surveys.thanks")),a.nc(2),a.ed("ngIf",e.showTechSupportSuggestion))},directives:[c.a,u.c,l.u,p.a,u.b],pipes:[h.g],styles:["[_nghost-%COMP%]{display:block;width:100%}@media (max-width:767.9px){[_nghost-%COMP%]     .evaluation-layout{flex-direction:row!important}}[_nghost-%COMP%]     .evaluation-layout__title{margin-bottom:0!important}app-evaluation-layout-title[_ngcontent-%COMP%]{display:block;margin-right:16px}app-evaluation-layout-title[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:block;margin-top:12px}@media (min-width:768px){app-evaluation-layout-title[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-top:8px}}app-evaluation-layout-title[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{color:var(--ui-sb-color-text-main);cursor:pointer}app-evaluation-layout-title[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not(:hover){text-decoration:underline}"],changeDetection:0}),t})()},VNCl:function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var i=n("2kYt"),s=n("/Ffh"),a=n("MfMy"),o=n("Jzyt"),r=n("3Xo3"),c=n("EM62"),u=n("MR/C");let l=(()=>{class t{constructor(t){t.registerIcons([a.svgIconHearth])}}return t.\u0275mod=c.yc({type:t}),t.\u0275inj=c.xc({factory:function(e){return new(e||t)(c.Oc(u.a))},imports:[[i.c,s.a,r.a,o.f]]}),t})()},Vdos:function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var i=n("EM62"),s=n("MfMy"),a=n("UbP3"),o=n("69BS"),r=n("d3ru"),c=n("TVns"),u=n("nIj0");let l=(()=>{class t{constructor(){this.selectionChange=new i.t,this.control=new a.c(null),this.markIcons=[s.svgIconSmileAngry.name,s.svgIconSmileMeh.name,s.svgIconSmileNormal.name,s.svgIconSmileVeryGood.name,s.svgIconSmilePerfect.name]}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.uc({type:t,selectors:[["app-evaluation-layout-mark"]],inputs:{title:"title"},outputs:{selectionChange:"selectionChange"},decls:5,vars:3,consts:[[3,"formControl","iconNames","selectionChange"]],template:function(t,e){1&t&&(i.Gc(0,"app-evaluation-layout"),i.Gc(1,"app-evaluation-layout-title"),i.Gd(2),i.Fc(),i.Gc(3,"app-evaluation-layout-body"),i.Gc(4,"app-mark-input",0),i.Sc("selectionChange",(function(t){return e.selectionChange.emit(t)})),i.Fc(),i.Fc(),i.Fc()),2&t&&(i.nc(2),i.Hd(e.title),i.nc(2),i.ed("formControl",e.control)("iconNames",e.markIcons))},directives:[o.a,r.c,r.a,c.a,u.v,u.k],styles:["[_nghost-%COMP%]{display:block;width:100%}[_nghost-%COMP%]     .mark-input__icon-wrapper{border-radius:50%;background:linear-gradient(#ffd978,#ffa945)}[_nghost-%COMP%]     .mark-input__icon-wrapper:hover{background:linear-gradient(#ffa945,#ffd978)}[_nghost-%COMP%]     .mark-input__container .mark-input__button, [_nghost-%COMP%]     svg-icon.mark-input__icon{width:32px;height:32px}[_nghost-%COMP%]     .mark-input__container{margin-right:20px;transform:translateZ(0)}[_nghost-%COMP%]     .mark-input__container:last-child{margin-right:0}@media (max-width:767.9px){[_nghost-%COMP%]   app-evaluation-layout-title[_ngcontent-%COMP%]{margin-bottom:36px}}"],changeDetection:0}),t})()},Xecg:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var i=n("D57K"),s=n("oKwp"),a=n("xzqx"),o=n("EM62");let r=(()=>{let t=class{ngAfterContentInit(){const t=this.evaluationStepsList.toArray();this.controller.currentStep$.pipe(Object(a.b)(this)).subscribe((e=>{const n=t.find((t=>t.matchStep(e)));n&&n.selectStep()}))}};return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=o.vc({type:t,selectors:[["","appSurveyStepper",""]],contentQueries:function(t,e,n){var i;1&t&&o.tc(n,s.a,!1),2&t&&o.rd(i=o.Tc())&&(e.evaluationStepsList=i)},inputs:{controller:["appSurveyStepper","controller"]}}),t=Object(i.b)([Object(a.a)()],t),t})()},d3ru:function(t,e,n){"use strict";n.d(e,"b",(function(){return s})),n.d(e,"c",(function(){return a})),n.d(e,"a",(function(){return o}));var i=n("EM62");let s=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=i.vc({type:t,selectors:[["app-evaluation-layout-image"],["","app-evaluation-layout-image",""],["","appEvaluationLayoutImage",""]],exportAs:["app-evaluation-layout-image"]}),t})(),a=(()=>{class t{constructor(){this.hostClass="ui-sb-t--1 ui-sb-weight--medium"}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=i.vc({type:t,selectors:[["app-evaluation-layout-title"],["","app-evaluation-layout-title",""],["","appEvaluationLayoutTitle",""]],hostVars:2,hostBindings:function(t,e){2&t&&i.pc(e.hostClass)},exportAs:["app-evaluation-layout-title"]}),t})(),o=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=i.vc({type:t,selectors:[["app-evaluation-layout-body"],["","app-evaluation-layout-body",""],["","appEvaluationLayoutBody",""]],exportAs:["app-evaluation-layout-body"]}),t})()},haFw:function(t,e,n){"use strict";n.d(e,"a",(function(){return h}));var i=n("QffU"),s=n("ZTXN"),a=n("C05f"),o=n("wTjk"),r=n("YtkY"),c=n("Ohay"),u=n("xVbo"),l=n("kuMc"),p=n("0Woy");class h{constructor(){this.destroy$=new s.a}get currentQuestionSnapshot(){return Object(i.a)(this.currentQuestion$)}get currentAnswersSnapshot(){return Object(i.a)(this.currentAnswers$)}get currentStepSnapshot(){return Object(i.a)(this.currentStep$)}get selectionSnapshot(){return this._selection$.value}onStepStart(t,e){Array.isArray(t)?t.forEach((t=>this.registerStepStartCallback(t,e))):this.registerStepStartCallback(t,e)}onStepFinish(t,e){Array.isArray(t)?t.forEach((t=>this.registerStepFinishCallback(t,e))):this.registerStepFinishCallback(t,e)}destroy(){this.destroy$.next(),this.destroy$.complete()}setupSelectionObservable(){this._selection$=new a.a([]),this.selection$=this._selection$.asObservable()}setupSurveyCompletedObservable(){this.surveyCompleted$=this.currentQuestion$.pipe(Object(r.a)((t=>null==t)))}setupCurrentStep(){this.currentStep$=Object(o.a)(this.selection$,this.currentQuestion$,this.currentAnswers$).pipe(Object(r.a)((([t,e,n])=>this.resolveStep(e,n,t))),Object(c.a)())}registerStepStartCallback(t,e){this.currentStep$.pipe(Object(u.a)((e=>e===t)),Object(l.a)(this.destroy$)).subscribe((()=>{e()}))}registerStepFinishCallback(t,e){this.currentStep$.pipe(Object(p.a)(),Object(u.a)((([e])=>e===t)),Object(l.a)(this.destroy$)).subscribe((()=>{e(this.lastSelectionSnapshot)}))}}},oKwp:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var i=n("EM62"),s=n("IrDo");let a=(()=>{class t{constructor(t){this.cdkStep=t}selectStep(){this.cdkStep.select()}matchStep(t){return Array.isArray(this.steps)?this.steps.includes(t):this.steps===t}}return t.\u0275fac=function(e){return new(e||t)(i.Ac(s.a))},t.\u0275dir=i.vc({type:t,selectors:[["","appSurveyStep",""]],inputs:{steps:["appSurveyStep","steps"]}}),t})()},qOZC:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var i=n("2kYt"),s=n("EM62");let a=(()=>{class t{}return t.\u0275mod=s.yc({type:t}),t.\u0275inj=s.xc({factory:function(e){return new(e||t)},imports:[[i.c]]}),t})()},qvgx:function(t,e,n){"use strict";n.d(e,"a",(function(){return M}));var i=n("D57K"),s=n("2kYt"),a=n("ruzS"),o=n("yQYJ"),r=n("PC5U"),c=n("oWo4"),u=n("JdJY"),l=n("UAyC"),p=n("QffU"),h=n("JxTr"),d=n("N1h5"),g=n("C7gP"),m=n("9qw2"),v=n("xzqx"),y=n("XR2q"),f=n("QQZH"),b=n("ZTXN"),_=n("GoAz"),w=n("TLy2"),O=n("xVbo"),C=n("ZzcO"),k=n("kuMc"),S=n("EM62");const x=["usedesk-widget__login-user-data","usedesk_messenger_callback_chat_id","usedesk_messenger_token"];let M=(()=>{let t=class{constructor(t,e,n,i,s,a,o,r,c){this.window=t,this.document=e,this.scriptService=n,this.stylesService=i,this.env=s,this.userFacade=a,this.translocoLanguageService=o,this.cookies=r,this.webstorage=c,this._useDeskLoaded$=new f.a(1),this.loadUseDeskSig$=new b.a,this.useDeskLoaded$=this._useDeskLoaded$.asObservable(),this.setupLoadUseDeskStream()}get isDefaultLang(){return this.translocoLanguageService.getActiveLang()===c.d.i18n.defaultLang}get useDeskUserToken(){var t,e,n;if(this.isDefaultLang)return null===(n=null===(e=null===(t=Object(p.a)(this.userFacade.getAuthenticatedUser()).external_data)||void 0===t?void 0:t.find((t=>t.service===a.V.ServiceEnum.USEDESK)))||void 0===e?void 0:e.additional_data)||void 0===n?void 0:n.chat_token}open(t="chat"){const e=Object(p.a)(this.userFacade.getAuthenticatedUser()),n=this.useDeskUserToken;this.window.usedeskMessenger.userIdentify(n?{name:e.full_name,email:e.email,phone:e.phone,token:n}:{name:e.full_name,email:e.email,phone:e.phone}),setTimeout((()=>this.window.usedeskMessenger.open(t)))}close(){this.window.usedeskMessenger.close()}toggle(){this.document.documentElement.querySelector("#usedesk-messenger .uw__messenger-layout__frame")?this.close():this.open()}initWidget(){this.translocoLanguageService.getActiveLang()!==this.webstorage.local.getItem(r.a.webstorageItem.usedeskLang)&&x.forEach((t=>this.cookies.removeCookie(t))),this.loadUseDeskSig$.next(),this.isDefaultLang&&(this.window.__usedeskWidgetInitedCallback=()=>{let t=this.useDeskUserToken;t||(t=this.window.usedeskMessenger.getChatToken(),this.userFacade.updateUseDeskToken(t))})}setupLoadUseDeskStream(){this.loadUseDeskSig$.pipe(Object(w.a)((()=>Object(_.a)(this.getUseDeskBundle()))),Object(O.a)((t=>!!t)),Object(C.a)((t=>Object(_.a)(Promise.all([this.scriptService.loadScript(t),this.stylesService.loadStyle("usedesk-theme.css")])))),Object(k.a)(this._useDeskLoaded$),Object(v.b)(this)).subscribe((()=>{this.webstorage.local.setItem(r.a.webstorageItem.usedeskLang,this.translocoLanguageService.getActiveLang()),this._useDeskLoaded$.next(!0)}))}getUseDeskBundle(){return Object(i.a)(this,void 0,void 0,(function*(){const t=this.translocoLanguageService.getActiveLang(),e=this.env.get("useDeskBundles");if(!e)return;const n=yield fetch(e);if(n.status===c.a.OK){const e=yield n.json();return e[t]||e[c.d.i18n.defaultLang]}}))}};return t.\u0275fac=function(e){return new(e||t)(S.Oc(m.b),S.Oc(s.e),S.Oc(h.a),S.Oc(d.a),S.Oc(o.a),S.Oc(l.a),S.Oc(u.a),S.Oc(y.a),S.Oc(g.a))},t.\u0275prov=S.wc({token:t,factory:t.\u0275fac,providedIn:"root"}),t=Object(i.b)([Object(v.a)()],t),t})()},wFCB:function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var i=n("haFw"),s=n("C05f"),a=n("xVbo"),o=n("TLy2"),r=n("8WIj"),c=n("ROBh");class u extends r.a{constructor(t){super({}),this.tree=t}getKey(t){return t.id}displayWith(t){return t.value}getFilteredData(t,e){var n;const i=this.findQuestionInTree(this.tree.question,e);return Object(c.a)(null!==(n=null==i?void 0:i.answers)&&void 0!==n?n:[])}findQuestionInTree(t,e){if(t.id===e)return t;for(const n of t.answers){let t;if(n.next_question&&(t=this.findQuestionInTree(n.next_question,e)),t)return t}}}class l extends i.a{constructor(t){super(),this.surveyTree=t,this.setupSelectionObservable(),this.setupAnswersDataSource(),this.setupCurrentQuestionObservable(),this.setupSurveyCompletedObservable(),this.setupCurrentAnswersObservable(),this.setupCurrentStep()}static getAnswerByValue(t,e){return t.answers.find((t=>t.value===e))}static getAnswerById(t,e){return t.answers.find((t=>t.id===e))}get currentQuestionSnapshot(){return this._currentQuestion$.value}get lastSelectionSnapshot(){return this.selectionSnapshot[this.selectionSnapshot.length-1]}pushAnswerByValue(t){const e=this.currentQuestionSnapshot,n=l.getAnswerByValue(e,String(t));this.pushAnswer({questionId:e.id,questionType:e.type,answerId:n.id,value:n.value})}pushAnswerById(t){const e=this.currentQuestionSnapshot,n=l.getAnswerById(e,t);this.pushAnswer({questionId:e.id,questionType:e.type,answerId:n.id,value:null==n?void 0:n.value})}pushCurrentAnswer(t){const e=this.currentQuestionSnapshot;this.pushAnswer({questionId:e.id,questionType:e.type,answerId:this.currentAnswersSnapshot[0].id,value:t})}pushAnswer(t){if(this._currentQuestion$.value.id!==t.questionId)throw new Error("Id \u0432\u043e\u043f\u0440\u043e\u0441\u0430 \u0434\u043e\u043b\u0436\u0435\u043d \u0441\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u043e\u0432\u0430\u0442\u044c \u0442\u0435\u043a\u0443\u0449\u0435\u043c\u0443 \u0432\u043e\u043f\u0440\u043e\u0441\u0443");this._selection$.next([...this._selection$.value,{questionId:t.questionId,questionType:t.questionType,answerId:t.answerId,value:null==t?void 0:t.value,comment:null==t?void 0:t.comment}]),this._currentQuestion$.next(this.getNextQuestion(null==t?void 0:t.answerId))}getNextQuestion(t){if(null==t)return null;const e=this._currentQuestion$.value.answers.find((e=>e.id===t));return null==e?void 0:e.next_question}setupCurrentQuestionObservable(){this._currentQuestion$=new s.a(this.surveyTree.question),this.currentQuestion$=this._currentQuestion$.asObservable()}setupAnswersDataSource(){var t;this.answersDataSource=new u(this.surveyTree),this.answersDataSource.setFilter(null===(t=this.surveyTree.question)||void 0===t?void 0:t.id)}setupCurrentAnswersObservable(){this.currentAnswers$=this._currentQuestion$.pipe(Object(a.a)((t=>!!t)),Object(o.a)((t=>(this.answersDataSource.setFilter(t.id),this.answersDataSource.data$))))}}}}]);