(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{"3vM3":function(e,t,n){"use strict";n.d(t,"a",(function(){return J}));var i=n("EM62"),o=n("ruzS"),c=n("ZJrq"),s=n("bxfK"),a=n("cdws"),r=n("cXTK"),l=n("MfMy"),d=n("I1js"),p=n("wgE4"),g=n("xVbo"),_=n("YtkY"),u=n("lzje"),h=n("2kYt"),m=n("VUGE"),v=n("DtU0"),w=n("cfBW");function C(e,t){if(1&e){const e=i.Hc();i.Gc(0,"app-sb-tutorial-preview",1),i.Sc("click",(function(){i.ud(e);const n=t.$implicit;return i.Wc().onLessonClick(n.id)})),i.Xc(1,"cache"),i.Xc(2,"cache"),i.Xc(3,"cache"),i.Xc(4,"async"),i.Xc(5,"cache"),i.Xc(6,"async"),i.Xc(7,"cache"),i.Xc(8,"cache"),i.Fc()}if(2&e){const e=t.$implicit,n=i.Wc();i.pc(n.gridClass),i.ed("id",i.ad(1,16,e.id,n.getTutorialPreviewElementID,n))("link",n.lessonURLCallback&&n.lessonURLCallback(e.id))("image",i.Zc(2,20,e,n.getImage))("hasVideo",i.Zc(3,23,e,n.isVideoLesson))("type",e.lesson_type)("status",e.user_status)("accessLevel",i.Yc(4,26,i.ad(5,28,e,n.getItemAccessLevel,n)))("accessReason",i.Yc(6,32,i.ad(7,34,e,n.getItemAccessReason,n)))("title",e.name)("topicOrder",n.topic.number)("tutorialOrder",e.number)("duration",e.video_duration)("active",e.id===n.activeTutorialId&&n.highlightActiveTutorial)("hasUnreadMessage",i.ad(8,38,e,n.hasUnreadMessage,n))}}const f=[o.ob.LessonTypeEnum.VIDEOLESSON,o.ob.LessonTypeEnum.HOMEWORK];let O=(()=>{class e{constructor(e){this.permissionsFacade=e}ngOnInit(){}ngOnChanges(e){e.topic&&(this.items=this.topic?c.a.concatAndSortTopicItems(this.topic):[])}onLessonClick(e){this.lessonClickCallback&&this.lessonClickCallback(e)}getTutorialPreviewElementID(e){return`topic-item__tutorial-preview--${e}`}isVideoLesson(e){return!!e.video_preview&&f.includes(e.lesson_type)}getImage(e){return e.video_preview}hasUnreadMessage(e){return p.a.hasUnreadMessage(e)}getItemAccessLevel(e){return this.permissionsFacade.selectByLessonId(e.id).pipe(Object(g.a)((e=>!!e)),Object(_.a)((e=>e.access_level)))}getItemAccessReason(e){return this.permissionsFacade.selectByLessonId(e.id).pipe(Object(g.a)((e=>!!e)),Object(_.a)((e=>e.reason)))}}return e.\u0275fac=function(t){return new(t||e)(i.Ac(u.a))},e.\u0275cmp=i.uc({type:e,selectors:[["app-topic-items"]],inputs:{topic:"topic",gridClass:"gridClass",activeTutorialId:"activeTutorialId",highlightActiveTutorial:"highlightActiveTutorial",lessonURLCallback:"lessonURLCallback",lessonClickCallback:"lessonClickCallback"},features:[i.lc],decls:2,vars:4,consts:[[3,"id","link","image","hasVideo","type","status","accessLevel","accessReason","title","topicOrder","tutorialOrder","duration","class","active","hasUnreadMessage","click",4,"ngFor","ngForOf","ngForTrackBy"],[3,"id","link","image","hasVideo","type","status","accessLevel","accessReason","title","topicOrder","tutorialOrder","duration","active","hasUnreadMessage","click"]],template:function(e,t){1&e&&(i.Ed(0,C,9,42,"app-sb-tutorial-preview",0),i.Xc(1,"trackBy")),2&e&&i.ed("ngForOf",t.items)("ngForTrackBy",i.Yc(1,2,"id"))},directives:[h.t,m.a],pipes:[v.a,w.a,h.b],styles:[""],changeDetection:0}),e})();var M=n("RmUC"),P=n("umBd"),b=n("K5i5"),x=n("p5sF"),I=n("jR34"),k=n("LllD");function E(e,t){if(1&e&&(i.Gc(0,"div",7),i.Gd(1," \u041f\u043e\u0441\u043b\u0435\u0434\u043d\u0438\u0439 \u043e\u0442\u0432\u0435\u0442 \u0441\u0442\u0443\u0434\u0435\u043d\u0442\u0430 -"),i.Bc(2,"br"),i.Gd(3),i.Xc(4,"date"),i.Xc(5,"date"),i.Fc()),2&e){const e=i.Wc().$implicit;i.nc(3),i.Jd("",i.Zc(4,2,e.last_student_messaged_at,"dd MMMM yyyy")," \u0433\u043e\u0434\u0430, ",i.Zc(5,5,e.last_student_messaged_at,"HH:mm")," ")}}function y(e,t){if(1&e&&(i.Gc(0,"span"),i.Gd(1),i.Xc(2,"date"),i.Xc(3,"date"),i.Fc()),2&e){const e=i.Wc().$implicit;i.nc(1),i.Jd("",i.Zc(2,2,e.last_teacher_messaged_at,"dd MMMM yyyy")," \u0433\u043e\u0434\u0430, ",i.Zc(3,5,e.last_teacher_messaged_at,"HH:mm"),"")}}function T(e,t){1&e&&i.Gd(0,"\u041f\u043e\u043a\u0430 \u043d\u0435 \u0431\u044b\u043b\u043e")}function F(e,t){if(1&e&&(i.Gc(0,"div",4),i.Gc(1,"p",5),i.Gd(2),i.Fc(),i.Gc(3,"div"),i.Ed(4,E,6,8,"div",6),i.Gc(5,"div",7),i.Gd(6," \u041f\u043e\u0441\u043b\u0435\u0434\u043d\u0438\u0439 \u043e\u0442\u0432\u0435\u0442 \u043f\u0440\u0435\u043f\u043e\u0434\u0430\u0432\u0430\u0442\u0435\u043b\u044f -"),i.Bc(7,"br"),i.Ed(8,y,4,8,"span",8),i.Ed(9,T,1,0,"ng-template",null,9,i.Fd),i.Fc(),i.Fc(),i.Fc()),2&e){const e=t.$implicit,n=i.sd(10),o=i.Wc(3);i.nc(2),i.Kd("",o.topic._order,".",e._order," \u2014 ",o.getStatus(e),""),i.nc(2),i.ed("ngIf",e.last_student_messaged_at),i.nc(4),i.ed("ngIf",e.last_teacher_messaged_at)("ngIfElse",n)}}function D(e,t){if(1&e&&i.Ed(0,F,11,6,"div",3),2&e){const e=i.Wc(2);i.ed("ngForOf",e.homeworks)}}function L(e,t){if(1&e){const e=i.Hc();i.Ec(0),i.Gc(1,"svg-icon",1),i.Sc("click",(function(t){return i.ud(e),i.Wc().onClick(t)})),i.Fc(),i.Ed(2,D,1,1,"ng-template",null,2,i.Fd),i.Dc()}if(2&e){const e=i.sd(3);i.nc(1),i.ed("uiSbTooltip",e)("tooltipDisabledState",null)}}let G=(()=>{class e{ngOnInit(){this.homeworks=this.topic.homeworks.filter((e=>!!e.last_sent_at))}onClick(e){e.preventDefault(),e.stopPropagation()}getStatus(e){return e.user_status===o.kb.UserStatusEnum.DONE?"\u041f\u0440\u0438\u043d\u044f\u0442\u043e":(null==e?void 0:e.last_sent_at)<(null==e?void 0:e.last_checked_at)?"\u041e\u0442\u043a\u043b\u043e\u043d\u0435\u043d\u043e":"\u041e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e"}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=i.uc({type:e,selectors:[["app-hw-info"]],inputs:{topic:"topic"},decls:1,vars:1,consts:[[4,"ngIf"],["name","info_stroke_v_2",1,"small","trigger",3,"uiSbTooltip","tooltipDisabledState","click"],["hwInfoTemplate",""],["class","homework",4,"ngFor","ngForOf"],[1,"homework"],[1,"skb-p1","skb-p1--medium","homework__title"],["class","skb-p1 homework__message",4,"ngIf"],[1,"skb-p1","homework__message"],[4,"ngIf","ngIfElse"],["empty",""]],template:function(e,t){1&e&&i.Ed(0,L,4,2,"ng-container",0),2&e&&i.ed("ngIf",null==t.homeworks?null:t.homeworks.length)},directives:[h.u,I.a,k.a,h.t],pipes:[h.f],styles:["[_nghost-%COMP%]{display:block}.trigger[_ngcontent-%COMP%]{cursor:pointer}.trigger[_ngcontent-%COMP%]  svg{border-radius:50%;transition:background-color var(--skb-transition)}.trigger[_ngcontent-%COMP%]  svg path:nth-child(2){transition:fill var(--skb-transition)}.trigger[_ngcontent-%COMP%]:hover  svg{background-color:var(--ui-sb-color-icon-main)}.trigger[_ngcontent-%COMP%]:hover  svg path:nth-child(2){fill:var(--ui-sb-color-bg-main)}.homework[_ngcontent-%COMP%]:not(:last-child){margin-bottom:32px}.homework__title[_ngcontent-%COMP%]{font-size:14px;line-height:20px;font-weight:600;margin-bottom:8px;color:var(--ui-sb-color-bg-main)}@media (max-width:1023.9px){.homework__title[_ngcontent-%COMP%]{color:var(--skb-color-secondary-text)}}.homework__message[_ngcontent-%COMP%]{font-size:14px;line-height:22px;font-weight:400}@media (max-width:1023.9px){.homework__message[_ngcontent-%COMP%]{font-weight:500}}"],changeDetection:0}),e})();var S=n("Jzyt");let A=(()=>{class e{ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=i.uc({type:e,selectors:[["app-topic-on-air"]],decls:9,vars:6,consts:[[1,"topic__image-wrapper"],["src","assets/img/svg/topic-on-air.svg","loading","lazy","alt","\u0417\u0430\u043f\u0438\u0441\u044c \u043d\u043e\u0432\u043e\u0433\u043e \u043c\u043e\u0434\u0443\u043b\u044f",1,"topic__image"],[1,"topic__content-wrapper"],["data-i18n","courseDetail.topic.onAir.title",1,"topic__title"],["data-i18n","courseDetail.topic.onAir.text",1,"topic__text"]],template:function(e,t){1&e&&(i.Gc(0,"div",0),i.Bc(1,"img",1),i.Fc(),i.Gc(2,"div",2),i.Gc(3,"h3",3),i.Gd(4),i.Xc(5,"transloco"),i.Fc(),i.Gc(6,"p",4),i.Gd(7),i.Xc(8,"transloco"),i.Fc(),i.Fc()),2&e&&(i.nc(4),i.Id(" ",i.Yc(5,2,"courseDetail.topic.onAir.title")," "),i.nc(3),i.Id(" ",i.Yc(8,4,"courseDetail.topic.onAir.text")," "))},pipes:[S.g],styles:["[_nghost-%COMP%]{display:flex;align-items:center}@media (max-width:767.9px){[_nghost-%COMP%]{flex-direction:column;text-align:center}}[_nghost-%COMP%]   .topic__image[_ngcontent-%COMP%]{width:172px;height:172px;display:block}@media (max-width:767.9px){[_nghost-%COMP%]   .topic__image-wrapper[_ngcontent-%COMP%]{margin-bottom:20px}}@media (min-width:768px){[_nghost-%COMP%]   .topic__image-wrapper[_ngcontent-%COMP%]{margin-right:40px}}[_nghost-%COMP%]   .topic__content-wrapper[_ngcontent-%COMP%]{width:100%}@media (max-width:767.9px){[_nghost-%COMP%]   .topic__content-wrapper[_ngcontent-%COMP%]{text-align:center}}@media (min-width:768px){[_nghost-%COMP%]   .topic__content-wrapper[_ngcontent-%COMP%]{max-width:408px}}@media (min-width:1600px){[_nghost-%COMP%]   .topic__content-wrapper[_ngcontent-%COMP%]{max-width:440px}}[_nghost-%COMP%]   .topic__title[_ngcontent-%COMP%]{font-size:16px;line-height:28px;font-weight:600;margin-bottom:8px}@media (min-width:768px){[_nghost-%COMP%]   .topic__title[_ngcontent-%COMP%]{margin-bottom:12px}}"],changeDetection:0}),e})(),U=(()=>{class e{transform(e,t,n){return e.id===t||!!c.a.findItemInTopic(e,n)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=i.zc({name:"checkTopicExpanded",type:e,pure:!0}),e})();var V=n("V1TU");const B=function(){return{dateStyle:"short"}};function W(e,t){if(1&e&&(i.Ec(0),i.Gd(1," ("),i.Gc(2,"span",9),i.Gd(3),i.Xc(4,"transloco"),i.Fc(),i.Gd(5),i.Xc(6,"translocoDate"),i.Dc()),2&e){const e=i.Wc().$implicit,t=i.Wc();i.nc(3),i.Hd(i.Yc(4,2,"courseDetail.topic.releaseAt")),i.nc(2),i.Id(" ",i.Zc(6,4,t.mapToDate(e.release_date),i.id(7,B)),") ")}}function R(e,t){if(1&e&&i.Bc(0,"app-hw-info",10),2&e){const e=i.Wc().$implicit;i.ed("topic",e)}}function X(e,t){1&e&&(i.Gc(0,"div",11),i.Bc(1,"svg-icon",12),i.Gc(2,"span",13),i.Gd(3),i.Xc(4,"transloco"),i.Fc(),i.Fc()),2&e&&(i.nc(3),i.Hd(i.Yc(4,1,"courseDetail.topic.inDev")))}function z(e,t){if(1&e&&(i.Ec(0),i.Bc(1,"svg-icon",14),i.Dc()),2&e){const e=t.ngIf;i.nc(1),i.ed("name",e.name)("ngClass",e.class)}}function N(e,t){if(1&e&&(i.Ed(0,z,2,2,"ng-container",4),i.Xc(1,"cache")),2&e){const e=i.Wc().$implicit,t=i.Wc();i.ed("ngIf",i.ad(1,1,e,t.getTopicIcon,t))}}function $(e,t){1&e&&i.Bc(0,"app-topic-on-air")}function H(e,t){if(1&e&&i.Bc(0,"app-topic-items",17),2&e){const e=i.Wc(2).$implicit,t=i.Wc();i.ed("topic",e)("gridClass",t.gridClass)("activeTutorialId",t.activeTutorialID)("highlightActiveTutorial",t.highlightActiveTutorial)("lessonURLCallback",t.lessonURLCallback)("lessonClickCallback",t.lessonClickCallback)}}function Y(e,t){if(1&e&&(i.Gc(0,"div"),i.Ed(1,$,1,0,"app-topic-on-air",15),i.Ed(2,H,1,6,"ng-template",null,16,i.Fd),i.Fc()),2&e){const e=i.sd(3),t=i.Wc().$implicit;i.nc(1),i.ed("ngIf",t.release_date)("ngIfElse",e)}}function j(e,t){if(1&e){const e=i.Hc();i.Gc(0,"app-sb-accordion-panel",1),i.Sc("opened",(function(){i.ud(e);const n=t.$implicit;return i.Wc().logOpenTopic(n,!0)}))("closed",(function(){i.ud(e);const n=t.$implicit;return i.Wc().logOpenTopic(n,!1)})),i.Xc(1,"cache"),i.Xc(2,"checkTopicExpanded"),i.Gc(3,"app-sb-accordion-panel-header"),i.Gc(4,"app-sb-accordion-panel-title"),i.Gc(5,"span",2),i.Gd(6),i.Fc(),i.Gc(7,"span",3),i.Gd(8),i.Ed(9,W,7,8,"ng-container",4),i.Fc(),i.Ed(10,R,1,1,"app-hw-info",5),i.Fc(),i.Gc(11,"app-sb-accordion-panel-status"),i.Ed(12,X,5,3,"div",6),i.Ed(13,N,2,5,"ng-template",null,7,i.Fd),i.Fc(),i.Fc(),i.Ed(15,Y,4,2,"div",8),i.Fc()}if(2&e){const e=t.$implicit,n=i.sd(14),o=i.Wc();i.ed("id",i.ad(1,8,e.id,o.getTopicElementId,o))("expanded",i.ad(2,12,e,o.activeTopicID,o.activeTutorialID)),i.nc(6),i.Id("",e.number,"."),i.nc(2),i.Id(" ",e.name," "),i.nc(1),i.ed("ngIf",e.release_date),i.nc(1),i.ed("ngIf",o.showCuratorInfo),i.nc(2),i.ed("ngIf",e.release_date)("ngIfElse",n)}}let J=(()=>{class e{constructor(e){this.logBus=e,this.showCuratorInfo=!1,this.scrollElementOffset=new i.t}ngOnChanges({activeTopicID:e,activeTutorialID:t}){(e&&!e.firstChange||t&&!t.firstChange)&&this.scrollToActiveElement()}ngAfterViewInit(){setTimeout((()=>this.scrollToActiveElement()))}mapToDate(e){return new Date(e)}getTopicIcon(e){return c.a.hasUnreadMessage(e)?{name:l.svgIconNewMessage.name}:c.a.getTopicUserStatus(e)===o.ob.UserStatusEnum.DONE?{name:l.svgIconDoneFilledV2.name,class:"status__icon--success"}:c.a.getTopicUserStatus(e)===o.ob.UserStatusEnum.START?{name:l.svgIconPausedFilledV2.name,class:"status__icon--warning"}:null}isTopicExpanded(e){return e.id===this.activeTopicID||!!c.a.findItemInTopic(e,this.activeTutorialID)}getTopicElementId(e){return`topic-panel--${e}`}logOpenTopic(e,t){this.logBus.log(new s.a({immediateDispatch:!1,message:new a.a({event_type:r.a.EventTypeEnum.course_section_hide_done,event_params:{module_token:e.id,switchTo:(!t).toString(),course_token:this.courseId}})}))}scrollToActiveElement(){var e,t,n;const i="topic"===this.scrollMode&&this.activeTopicID&&this.topicsAccordionsList&&!!this.topics.find((({id:e})=>e===this.activeTopicID)),o="tutorial"===this.scrollMode&&this.topicsAccordionsList&&this.activeTutorialID&&this.topics.some((e=>!!c.a.findItemInTopic(e,this.activeTutorialID)));if(i){const t=this.topicsAccordionsList.find((e=>e.nativeElement.id===this.getTopicElementId(this.activeTopicID)));this.scrollElementOffset.emit(null===(e=null==t?void 0:t.nativeElement)||void 0===e?void 0:e.offsetTop)}else if(o){const e=null===(t=this.topics.find((e=>!!c.a.findItemInTopic(e,this.activeTutorialID))))||void 0===t?void 0:t.id,i=this.topicsAccordionsList.find((t=>t.nativeElement.id===this.getTopicElementId(e)));this.activeTopicID=e,this.scrollElementOffset.emit(null===(n=null==i?void 0:i.nativeElement)||void 0===n?void 0:n.offsetTop)}}}return e.\u0275fac=function(t){return new(t||e)(i.Ac(M.a))},e.\u0275cmp=i.uc({type:e,selectors:[["app-topics-list"]],viewQuery:function(e,t){var n;1&e&&(i.Ld(O,!0),i.Ld(d.a,!0,i.q)),2&e&&(i.rd(n=i.Tc())&&(t.topicItemsComponent=n.first),i.rd(n=i.Tc())&&(t.topicsAccordionsList=n))},inputs:{topics:"topics",gridClass:"gridClass",baseTopicLink:"baseTopicLink",lessonURLCallback:"lessonURLCallback",lessonClickCallback:"lessonClickCallback",highlightActiveTutorial:"highlightActiveTutorial",scrollMode:"scrollMode",showCuratorInfo:"showCuratorInfo",courseId:"courseId",activeTopicID:"activeTopicID",activeTutorialID:"activeTutorialID"},outputs:{scrollElementOffset:"scrollElementOffset"},features:[i.lc],decls:3,vars:4,consts:[[3,"id","expanded","opened","closed",4,"ngFor","ngForOf","ngForTrackBy"],[3,"id","expanded","opened","closed"],[1,"accordion-title__num"],[1,"accordion-title__text"],[4,"ngIf"],["class","accordion-title__hw-info",3,"topic",4,"ngIf"],["class","status__dev",4,"ngIf","ngIfElse"],["icons",""],[4,"appSbAccodrionPanelContent"],["data-i18n","courseDetail.topic.releaseAt"],[1,"accordion-title__hw-info",3,"topic"],[1,"status__dev"],["name","video_filled_v_2",1,"status__icon-dev"],["data-i18n","courseDetail.topic.inDev",1,"status__text-dev"],[1,"status__icon-action",3,"name","ngClass"],[4,"ngIf","ngIfElse"],["lessons",""],[1,"ui-sb-grid-container","topic-item__container",3,"topic","gridClass","activeTutorialId","highlightActiveTutorial","lessonURLCallback","lessonClickCallback"]],template:function(e,t){1&e&&(i.Gc(0,"app-sb-accordion"),i.Ed(1,j,16,16,"app-sb-accordion-panel",0),i.Xc(2,"trackBy"),i.Fc()),2&e&&(i.nc(1),i.ed("ngForOf",t.topics)("ngForTrackBy",i.Yc(2,2,"id")))},directives:[P.a,h.t,d.a,b.a,x.e,h.u,x.d,x.b,G,I.a,h.r,A,O],pipes:[v.a,w.a,U,S.g,V.a],styles:["[_nghost-%COMP%]{display:block}[_nghost-%COMP%]   app-sb-accordion-panel-status[_ngcontent-%COMP%]{display:flex;align-items:center;margin-right:24px}@media (max-width:767.9px){[_nghost-%COMP%]   app-sb-accordion-panel-status[_ngcontent-%COMP%]{margin-right:16px}}[_nghost-%COMP%]   app-sb-accordion-panel-header[_ngcontent-%COMP%]{align-items:flex-start}@media (min-width:768px){[_nghost-%COMP%]   app-sb-accordion-panel-header[_ngcontent-%COMP%]     .accordion-panel-header__button{margin-top:4px}}[_nghost-%COMP%]   app-sb-accordion-panel-title[_ngcontent-%COMP%]{display:flex}[_nghost-%COMP%]   app-topic-items[_ngcontent-%COMP%], [_nghost-%COMP%]   app-topic-on-air[_ngcontent-%COMP%]{margin-bottom:24px}[_nghost-%COMP%]   .topic-item__container[_ngcontent-%COMP%]{grid-gap:20px}@media (min-width:768px){[_nghost-%COMP%]   .topic-item__container[_ngcontent-%COMP%]{grid-row-gap:24px}}@media (min-width:1024px){[_nghost-%COMP%]   .topic-item__container[_ngcontent-%COMP%]{grid-row-gap:32px}}@media (min-width:1280px) and (max-width:1599.9px){[_nghost-%COMP%]   .topic-item__container[_ngcontent-%COMP%]     .preview__container{height:118px}}@media (max-width:1279.9px){[_nghost-%COMP%]   .topic-item__container[_ngcontent-%COMP%]     .preview__container{height:167px}}@media (max-width:1023.9px){[_nghost-%COMP%]   .topic-item__container[_ngcontent-%COMP%]     .preview__container{height:123px}}@media (max-width:767.9px){[_nghost-%COMP%]   .topic-item__container[_ngcontent-%COMP%]     .preview__container{height:calc((100vw - 60px) / 2 * 9 / 16)}}[_nghost-%COMP%]   .accordion-title__num[_ngcontent-%COMP%]{min-width:32px;margin-right:4px}[_nghost-%COMP%]   .accordion-title__hw-info[_ngcontent-%COMP%]{margin-left:12px}[_nghost-%COMP%]   .status__icon-action[_ngcontent-%COMP%]{width:16px;height:16px}@media (min-width:768px){[_nghost-%COMP%]   .status__icon-action[_ngcontent-%COMP%]{width:24px;height:24px}}[_nghost-%COMP%]   .status__icon-dev[_ngcontent-%COMP%]{width:16px;height:16px;color:var(--ui-sb-color-icon-secondary)}@media (min-width:768px){[_nghost-%COMP%]   .status__icon-dev[_ngcontent-%COMP%]{width:12px;height:12px}}[_nghost-%COMP%]   .status__icon--warning[_ngcontent-%COMP%]{color:var(--ui-sb-color-element-warning)}[_nghost-%COMP%]   .status__icon--success[_ngcontent-%COMP%]{color:var(--ui-sb-color-element-success)}[_nghost-%COMP%]   .status__dev[_ngcontent-%COMP%]{display:flex;align-items:center;flex-wrap:nowrap;height:24px}@media (max-width:767.9px){[_nghost-%COMP%]   .status__dev[_ngcontent-%COMP%]{height:auto}}[_nghost-%COMP%]   .status__text-dev[_ngcontent-%COMP%]{font-size:12px;line-height:12px;margin-left:8px;color:var(--ui-sb-color-text-secondary)}@media (max-width:767.9px){[_nghost-%COMP%]   .status__text-dev[_ngcontent-%COMP%]{display:none}}"],changeDetection:0}),e})()},NA6a:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n("EM62");let o=(()=>{class e{set(e){this.lastLessonId=e}get(){const e=this.lastLessonId;return delete this.lastLessonId,e}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=i.wc({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},VUGE:function(e,t,n){"use strict";n.d(t,"a",(function(){return P}));var i=n("ruzS"),o=n("wgE4"),c=n("MfMy"),s=n("EM62"),a=n("sEIs"),r=n("LllD"),l=n("2kYt"),d=n("jR34"),p=n("GDmJ"),g=n("j7cu");function _(e,t){if(1&e){const e=s.Hc();s.Gc(0,"img",12),s.Sc("error",(function(){return s.ud(e),s.Wc().setImageErrorState(!0)})),s.Fc()}if(2&e){const e=t.ngIf,n=s.Wc();s.ed("src",e,s.wd)("alt",n.title)}}function u(e,t){1&e&&s.Bc(0,"div",13)}function h(e,t){if(1&e&&(s.Gc(0,"ui-sb-image-badge",14),s.Gc(1,"span"),s.Gd(2),s.Xc(3,"duration"),s.Fc(),s.Fc()),2&e){const e=s.Wc();s.nc(2),s.Hd(s.ad(3,1,e.duration,"hh:mm",!0))}}function m(e,t){1&e&&(s.Gc(0,"ui-sb-image-badge",14),s.Bc(1,"svg-icon",15),s.Gc(2,"span"),s.Gd(3,"\u041f\u0440\u043e\u0438\u0433\u0440\u044b\u0432\u0430\u0435\u0442\u0441\u044f"),s.Fc(),s.Fc())}function v(e,t){if(1&e&&(s.Ec(0),s.Gd(1),s.Dc()),2&e){const e=s.Wc();s.nc(1),s.Jd(" ",e.topicOrder,".",e.tutorialOrder," ")}}function w(e,t){1&e&&(s.Gc(0,"div",21),s.Bc(1,"svg-icon",22),s.Fc())}function C(e,t){1&e&&(s.Gc(0,"div",23),s.Bc(1,"svg-icon",24),s.Fc())}function f(e,t){1&e&&s.Bc(0,"img",25)}function O(e,t){if(1&e&&(s.Gc(0,"div",26),s.Bc(1,"svg-icon",27),s.Fc()),2&e){const e=s.Wc(2);s.sc("lesson--video",e.hasVideo)}}function M(e,t){if(1&e&&(s.Ec(0,16),s.Ed(1,w,2,0,"div",17),s.Ed(2,C,2,0,"div",18),s.Ed(3,f,1,0,"img",19),s.Ed(4,O,2,2,"div",20),s.Dc()),2&e){const e=s.Wc();s.ed("ngSwitch",e.type),s.nc(1),s.ed("ngSwitchCase",e.tutorialTypeEnum.HOMEWORK),s.nc(1),s.ed("ngSwitchCase",e.tutorialTypeEnum.TEST),s.nc(1),s.ed("ngSwitchCase",e.tutorialTypeEnum.LONGREAD)}}let P=(()=>{class e{constructor(e){this.cdr=e,this.imageErrorState=!1,this.tutorialTypeEnum=i.mb.LessonTypeEnum}get imageSrc(){return this.imageErrorState?null:this.image}get canShowDuration(){return!!this.duration&&this.type===i.mb.LessonTypeEnum.VIDEOLESSON}get tooltipValue(){return!this.accessLevel||this.accessLevel!==i.v.AccessLevelEnum.NONE&&this.accessLevel!==i.v.AccessLevelEnum.READ_ONLY?null:this.accessReason}get routerLink(){return this.accessLevel&&this.accessLevel!==i.v.AccessLevelEnum.NONE?this.link:void 0}ngOnChanges(e){var t,n;(null===(t=null==e?void 0:e.image)||void 0===t?void 0:t.currentValue)!==(null===(n=null==e?void 0:e.image)||void 0===n?void 0:n.previousValue)&&(this.imageErrorState=!1,this.cdr.detectChanges())}getIconName(e){return this.hasUnreadMessage?c.svgIconNewMessage.name:o.a.isLessonLocked(e,this.accessLevel)?c.svgIconLockFilledV2.name:this.active?c.svgIconEyeFilledV2.name:o.a.isExerciseOnPause(e,this.type)?c.svgIconPausedFilledV2.name:o.a.isLessonDone(e)?c.svgIconDoneFilledV2.name:""}getIconClass(e){return this.active?"primary":this.getIconName(e)===c.svgIconDoneFilledV2.name?"done":this.getIconName(e)===c.svgIconPausedFilledV2.name?"wait":this.getIconName(e)===c.svgIconLockFilledV2.name?"lock":""}setImageErrorState(e){this.imageErrorState=e}}return e.\u0275fac=function(t){return new(t||e)(s.Ac(s.j))},e.\u0275cmp=s.uc({type:e,selectors:[["app-sb-tutorial-preview"]],inputs:{link:"link",image:"image",hasVideo:"hasVideo",type:"type",status:"status",accessLevel:"accessLevel",accessReason:"accessReason",title:"title",subtitle:"subtitle",topicOrder:"topicOrder",tutorialOrder:"tutorialOrder",duration:"duration",active:"active",hasUnreadMessage:"hasUnreadMessage"},features:[s.lc],decls:16,vars:14,consts:[[1,"preview__link",3,"routerLink"],[1,"preview__container",3,"uiSbTooltip"],["class","preview__image",3,"src","alt","error",4,"ngIf","ngIfElse"],[1,"preview__layout"],["class","preview__pulsar",4,"ngIf"],[1,"preview__icon-status",3,"ngClass","name"],["class","preview__image-badge",4,"ngIf"],[1,"preview__text-wrapper"],[1,"preview__subtitle"],[1,"preview__title"],[4,"ngIf"],["previewDirectorRef",""],[1,"preview__image",3,"src","alt","error"],[1,"preview__pulsar"],[1,"preview__image-badge"],["name","play_v_2",1,"small"],[3,"ngSwitch"],["class","preview__homework",4,"ngSwitchCase"],["class","preview__test",4,"ngSwitchCase"],["class","preview__image","src","assets/img/pages/course-detail/longread-preview.png","loading","lazy","alt","",4,"ngSwitchCase"],["class","preview__lesson lesson",3,"lesson--video",4,"ngSwitchDefault"],[1,"preview__homework"],["name","preview_homework"],[1,"preview__test"],["name","preview_test"],["src","assets/img/pages/course-detail/longread-preview.png","loading","lazy","alt","",1,"preview__image"],[1,"preview__lesson","lesson"],["name","preview_lesson"]],template:function(e,t){if(1&e&&(s.Gc(0,"a",0),s.Gc(1,"div",1),s.Ed(2,_,1,2,"img",2),s.Bc(3,"div",3),s.Ed(4,u,1,0,"div",4),s.Bc(5,"svg-icon",5),s.Ed(6,h,4,5,"ui-sb-image-badge",6),s.Ed(7,m,4,0,"ui-sb-image-badge",6),s.Fc(),s.Gc(8,"div",7),s.Gc(9,"div",8),s.Gd(10),s.Fc(),s.Gc(11,"div",9),s.Ed(12,v,2,2,"ng-container",10),s.Gd(13),s.Fc(),s.Fc(),s.Fc(),s.Ed(14,M,5,4,"ng-template",null,11,s.Fd)),2&e){const e=s.sd(15);s.sc("preview__link--active",t.active),s.ed("routerLink",t.routerLink),s.nc(1),s.ed("uiSbTooltip",t.tooltipValue),s.nc(1),s.ed("ngIf",t.imageSrc)("ngIfElse",e),s.nc(2),s.ed("ngIf",t.active),s.nc(1),s.ed("ngClass",t.getIconClass(t.status))("name",t.getIconName(t.status)),s.nc(1),s.ed("ngIf",t.canShowDuration&&!t.active),s.nc(1),s.ed("ngIf",t.active&&t.hasVideo),s.nc(3),s.Hd(t.subtitle),s.nc(2),s.ed("ngIf",null!=t.topicOrder&&null!=t.tutorialOrder),s.nc(1),s.Id(" ",t.title," ")}},directives:[a.i,r.a,l.u,d.a,l.r,p.a,l.y,l.z,l.A],pipes:[g.a],styles:["[_nghost-%COMP%], [_nghost-%COMP%]   .preview__link[_ngcontent-%COMP%]{display:block}[_nghost-%COMP%]   .preview__pulsar[_ngcontent-%COMP%]{width:100%;height:100%;position:absolute;top:0;right:0;bottom:0;left:0;z-index:0;border-radius:12px;background-color:var(--ui-sb-color-element-brand);opacity:.3;-webkit-animation:pulsar 1.2s ease-out infinite;animation:pulsar 1.2s ease-out infinite}[_nghost-%COMP%]   .preview__container[_ngcontent-%COMP%]{position:relative;height:160px;border-radius:10px}[_nghost-%COMP%]   .preview__layout[_ngcontent-%COMP%]{position:absolute;top:0;right:0;bottom:0;left:0;background-color:rgba(0,0,0,.1)}[_nghost-%COMP%]   .preview__image[_ngcontent-%COMP%], [_nghost-%COMP%]   .preview__layout[_ngcontent-%COMP%]{width:100%;height:100%;z-index:1;border-radius:inherit}[_nghost-%COMP%]   .preview__image[_ngcontent-%COMP%]{position:relative;display:block;object-fit:cover}[_nghost-%COMP%]   .preview__subtitle[_ngcontent-%COMP%]{font-size:12px;line-height:18px;overflow:hidden;margin-top:8px;color:var(--ui-sb-color-text-secondary);text-overflow:ellipsis;white-space:nowrap}[_nghost-%COMP%]   .preview__title[_ngcontent-%COMP%]{font-size:16px;line-height:20px;display:-webkit-box;overflow:hidden;margin-top:8px;color:var(--ui-sb-color-text-main);font-weight:500;-webkit-line-clamp:2;-webkit-box-orient:vertical}@media (max-width:767.9px){[_nghost-%COMP%]   .preview__title[_ngcontent-%COMP%]{font-size:12px;line-height:16px}}[_nghost-%COMP%]   .preview__title[_ngcontent-%COMP%]:first-child{margin-top:12px}[_nghost-%COMP%]   .preview__icon-status[_ngcontent-%COMP%]{width:24px;height:24px;position:absolute;top:12px;left:12px;z-index:2;color:var(--ui-sb-color-element-always-black)}[_nghost-%COMP%]   .preview__icon-status.done[_ngcontent-%COMP%]{color:var(--ui-sb-color-element-success)}[_nghost-%COMP%]   .preview__icon-status.wait[_ngcontent-%COMP%]{color:var(--ui-sb-color-element-warning)}[_nghost-%COMP%]   .preview__icon-status.primary[_ngcontent-%COMP%]{border-radius:50%;background-color:var(--ui-sb-color-bg-main);color:var(--ui-sb-color-element-brand)}[_nghost-%COMP%]   .preview__icon-status.lock[_ngcontent-%COMP%]{width:16px;height:16px;padding:4px;border-radius:50%;background-color:var(--ui-sb-color-element-always-black);color:var(--ui-sb-color-element-always-white)}[_nghost-%COMP%]   .preview__icon-status.lock[_ngcontent-%COMP%]     path:last-child{fill:var(--ui-sb-color-element-always-black)}[_nghost-%COMP%]   .preview__image-badge[_ngcontent-%COMP%]{position:absolute;bottom:12px;left:12px;z-index:2;height:16px}@media (max-width:1023.9px){[_nghost-%COMP%]   .preview__image-badge[_ngcontent-%COMP%]{bottom:8px;left:8px}}@media (min-width:768px){[_nghost-%COMP%]   .preview__image-badge[_ngcontent-%COMP%]{height:20px;padding:0 8px}}[_nghost-%COMP%]   .preview__image-badge[_ngcontent-%COMP%]   svg-icon[_ngcontent-%COMP%]{margin-left:-4px}@media (max-width:767.9px){[_nghost-%COMP%]   .preview__image-badge[_ngcontent-%COMP%]   svg-icon[name=play][_ngcontent-%COMP%]{display:none}}[_nghost-%COMP%]   .preview__lesson[_ngcontent-%COMP%]{border-radius:inherit;background-color:var(--ui-sb-color-bg-secondary)}[_nghost-%COMP%]   .preview__lesson[_ngcontent-%COMP%]   svg-icon[_ngcontent-%COMP%]{color:var(--ui-sb-color-bg-secondary)}[_nghost-%COMP%]   .preview__homework[_ngcontent-%COMP%], [_nghost-%COMP%]   .preview__test[_ngcontent-%COMP%]{border-radius:inherit;background-color:var(--ui-sb-color-element-success-secondary)}[_nghost-%COMP%]   .preview__homework[_ngcontent-%COMP%]   svg-icon[_ngcontent-%COMP%], [_nghost-%COMP%]   .preview__test[_ngcontent-%COMP%]   svg-icon[_ngcontent-%COMP%]{color:var(--ui-sb-color-element-success-secondary)}[_nghost-%COMP%]   .preview__homework[_ngcontent-%COMP%], [_nghost-%COMP%]   .preview__lesson[_ngcontent-%COMP%], [_nghost-%COMP%]   .preview__test[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;align-items:center;justify-content:center;position:relative;z-index:1}[_nghost-%COMP%]   .preview__homework[_ngcontent-%COMP%]   svg-icon[_ngcontent-%COMP%], [_nghost-%COMP%]   .preview__lesson[_ngcontent-%COMP%]   svg-icon[_ngcontent-%COMP%], [_nghost-%COMP%]   .preview__test[_ngcontent-%COMP%]   svg-icon[_ngcontent-%COMP%]{width:48px;height:48px}@-webkit-keyframes pulsar{0%{transform:scale(1)}50%{opacity:.3}to{opacity:0;transform:scale(1.08,1.12)}}@keyframes pulsar{0%{transform:scale(1)}50%{opacity:.3}to{opacity:0;transform:scale(1.08,1.12)}}"],changeDetection:0}),e})()}}]);